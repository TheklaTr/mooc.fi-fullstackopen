{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/personService.js","App.js","index.js"],"names":["Filter","handleChange","filter","value","onChange","Notification","message","messageStyle","className","PersonForm","props","onSubmit","handleSubmit","name","nameOnChange","number","numberOnChange","type","Person","person","removeOnClick","onClick","id","Persons","persons","map","baseUrl","axios","get","then","res","data","newObject","post","deletedObject","delete","updatedObject","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","filterPerson","setFilterPerson","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","newPerson","catch","error","console","log","personsToShow","toLowerCase","includes","event","target","preventDefault","personObject","existingId","indexOf","window","confirm","newInfo","returnedPerson","setTimeout","returnedPersons","concat","deletedPerson","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6b84aa4b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ handleChange, filter }) => {\r\n  return (\r\n    <div>\r\n      filter shown with\r\n      <input value={filter} onChange={handleChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message, messageStyle }) => {\r\n  if (message === null) return null;\r\n\r\n  return <div className={messageStyle}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\n\r\nconst PersonForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        name: <input value={props.name} onChange={props.nameOnChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={props.number} onChange={props.numberOnChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Person = ({ person, removeOnClick }) => {\r\n  return (\r\n    <p>\r\n      {person.name} {person.number}{' '}\r\n      <button onClick={() => removeOnClick(person.id)}>delete</button>\r\n    </p>\r\n  );\r\n};\r\n\r\nexport default Person;\r\n","import Person from './Person';\r\nimport React from 'react';\r\n\r\nconst Persons = ({ persons, removeOnClick }) => {\r\n  return (\r\n    <div>\r\n      {persons.map((person) => (\r\n        <Person key={person.id} person={person} removeOnClick={removeOnClick} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import axios from 'axios';\r\n\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl).then((res) => res.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject).then((res) => res.data);\r\n};\r\n\r\nconst remove = (id, deletedObject) => {\r\n  return axios\r\n    .delete(`${baseUrl}/${id}`, deletedObject)\r\n    .then((res) => res.data);\r\n};\r\n\r\nconst replace = (updatedObject) => {\r\n  return axios\r\n    .put(`${baseUrl}/${updatedObject.id}`, updatedObject)\r\n    .then((res) => res.data);\r\n};\r\n\r\nexport default { getAll, create, remove, replace };\r\n","import './index.css';\n\nimport React, { useEffect, useState } from 'react';\n\nimport Filter from './components/Filter';\nimport Notification from './components/Notification';\nimport PersonForm from './components/PersonForm';\nimport Persons from './components/Persons';\nimport personService from './services/personService';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filterPerson, setFilterPerson] = useState('');\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((newPerson) => setPersons(newPerson))\n      .catch((error) => console.log(error));\n  }, []);\n\n  const addPerson = (event) => {\n    event.preventDefault();\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    const existingNames = persons.map((person) => person.name);\n    const existingId = existingNames.indexOf(newName);\n\n    if (existingId !== -1 && newNumber) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        const newInfo = { ...persons[existingId], number: newNumber };\n        personService\n          .replace(newInfo)\n          .then((returnedPerson) => {\n            setPersons(\n              persons.map((person) =>\n                person.id !== newInfo.id ? person : returnedPerson\n              )\n            );\n            setNewName('');\n            setNewNumber('');\n            setSuccessMessage(`Number updated for contact ${newName}`);\n            setTimeout(() => setSuccessMessage(null), 5000);\n          })\n          .catch((error) => {\n            setErrorMessage(\n              `Information of ${newName} has already been removed from server`\n            );\n            setTimeout(() => setErrorMessage(null), 5000);\n          });\n      }\n    } else if (newNumber) {\n      personService\n        .create(personObject)\n        .then((returnedPersons) => {\n          setPersons(persons.concat(returnedPersons));\n          setNewName('');\n          setNewNumber('');\n          setSuccessMessage(`Added ${newName}`);\n          setTimeout(() => setSuccessMessage(null), 5000);\n        })\n        .catch((error) => console.error());\n    } else {\n      setErrorMessage('Please provide a number');\n      setTimeout(() => setErrorMessage(null), 5000);\n    }\n  };\n\n  // filter input\n  const personsToShow = persons.filter((person) =>\n    person.name.toLowerCase().includes(filterPerson.toLowerCase())\n  );\n\n  const handleFilterChange = (event) => {\n    setFilterPerson(event.target.value);\n  };\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleDeleteBtn = (id) => {\n    const deletedPerson = persons.find((person) => person.id === id);\n    if (deletedPerson.id && window.confirm(`Delete ${deletedPerson.name}?`)) {\n      personService\n        .remove(id)\n        .then((res) => {\n          setPersons(persons.filter((person) => person.id !== id));\n          setSuccessMessage(`Deleted ${deletedPerson.name}`);\n          setTimeout(() => setSuccessMessage(null), 5000);\n        })\n        .catch((error) => {\n          setErrorMessage(\n            `Information of ${newName} has already been removed from server`\n          );\n          setTimeout(() => setErrorMessage(null), 5000);\n          setPersons(persons.filter((person) => person.id !== id));\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification messageStyle=\"success\" message={successMessage} />\n      <Notification messageStyle=\"error\" message={errorMessage} />\n      <Filter filter={filterPerson} handleChange={handleFilterChange} />\n      <h2>add a new</h2>\n      <PersonForm\n        handleSubmit={addPerson}\n        name={newName}\n        nameOnChange={handleNameChange}\n        number={newNumber}\n        numberOnChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} removeOnClick={handleDeleteBtn} />\n    </div>\n  );\n};\n\nexport default App;\n","import App from './App';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}